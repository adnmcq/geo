{% extends "base.html" %}

{% block content %}
 <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Overview</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group mr-2">
            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
            <span data-feather="calendar"></span>
          </button>

        </div>
      </div>
      <!--<canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>-->
        <div id='map' style='width: 100%; height: 380px;'></div>
        <script>
        mapboxgl.accessToken = '{{ mapbox_token }}';
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/streets-v11',
          center: [-101.641, 39.366],
          zoom: 3
        });

        {% for key, value in devices.items %}
        var {{key}} = new mapboxgl.Marker()
          .setLngLat([{{ value.CheckPoint_Location.4 }}, {{ value.CheckPoint_Location.3 }}])
          .addTo(map);
        {% endfor %}

        </script>

      <h2>Section title</h2>



<table id="tracker" class="display" style="width:100%">
        <thead>
            <tr>
                <th>DeviceName</th>
                <th>TrackerId</th>
                <th>CreatedDt</th>
<!--                <th>ChkPtTm</th>-->
<!--                <th>Active</th>-->

            </tr>
        </thead>
        <tbody>
<!--            <tr>-->
<!--                <td>Tiger Nixon</td>-->
<!--                <td>System Architect</td>-->
<!--                <td>Edinburgh</td>-->
<!--                <td>61</td>-->
<!--                <td>2011/04/25</td>-->
<!--                <td>$320,800</td>-->
<!--            </tr>-->

        </tbody>
<!--        <tfoot>-->
<!--            <tr>-->
<!--                <th>Name</th>-->
<!--                <th>Position</th>-->
<!--                <th>Office</th>-->
<!--                <th>Age</th>-->
<!--                <th>Start date</th>-->
<!--                <th>Salary</th>-->
<!--            </tr>-->
<!--        </tfoot>-->
    </table>


<!--      <div class="table-responsive">-->
<!--        <table class="table table-striped table-sm">-->
<!--          <thead>-->
<!--            <tr>-->
<!--              <th>#</th>-->
<!--              <th>Header</th>-->
<!--              <th>Header</th>-->
<!--              <th>Header</th>-->
<!--              <th>Header</th>-->
<!--            </tr>-->
<!--          </thead>-->
<!--          <tbody>-->
<!--            <tr>-->
<!--              <td>1,001</td>-->
<!--              <td>Lorem</td>-->
<!--              <td>ipsum</td>-->
<!--              <td>dolor</td>-->
<!--              <td>sit</td>-->
<!--            </tr>-->
<!--          </tbody>-->
<!--        </table>-->




      </div>
{% endblock %}


{% block js %}


$(document).ready(function() {




    var oTable = $('#tracker').dataTable({
        // ...
        "processing": true,
        "serverSide": true,
        "ajax": "{% url 'tracker_list_json' %}"
    });
    // ...

} );

{% endblock %}